# Pipeline para construir un proyecto Node.js con React en Azure DevOps
trigger:
- master

pool:
  name: Default
  demands: agent.name -equals agente

stages:
  - stage: Prebuild
    displayName: "Prepare Environment"
    jobs:
      - job: Setup_Node
        displayName: "Setup Node and install dependencies"
        steps:
          - script: node -v
            displayName: "Check Node.js Version"
          
          - script: npm install
            displayName: "Install Dependencies"
          
          - script: if not exist "$(Pipeline.Workspace)\.npm" mkdir "$(Pipeline.Workspace)\.npm"
            displayName: "Ensure npm cache directory exists"

          - task: Cache@2
            displayName: "Cache npm dependencies"
            inputs:
              key: "npm | $(Agent.OS) | package.json"
              path: "$(Pipeline.Workspace)/.npm"
              restoreKeys: |
                npm | $(Agent.OS)

       


